<!DOCTYPE html>
<html>
	<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>google跟踪链接生成工具</title>
	
<style type="text/css">
     *{
		 margin: 0 auto;
		 padding: 0;
	 }
	.dd li {line-height: 40px; height: 40px;}
	#gen_link{color:#008000;}
	#main{
		font-size: 16px;
		margin-top: 20px;
		
	}

</style>
<script charset="utf-8" src="chrome-extension://nfbikdkjfjcejddbdcpbafnclkfdhijd/js/btype.js"></script>
<script type="text/javascript" charset="utf-8" src="chrome-extension://nfbikdkjfjcejddbdcpbafnclkfdhijd/js/chrome.js"></script>
</head>

<body style="background-image: url('images/bg.png');">

<div id="main">
	<h3>google跟踪链接生成工具</h3>
	<div class="dd">
		<ul>
			<li>网站网址：<input id="url" name="url" type="text"></li>
			<li>广告系列 来源(utm_source)：*<input id="source" name="source" type="text">
				<select name="" onchange="preset_source(this)">
					<option value="">预设</option>
					<option value="google">谷歌</option>
					<option value="baidu">百度</option>
					<option value="etao">一淘</option>
					<option value="soso">搜搜</option>
					<option value="weibo">微博</option>
					<option value="qq_weibo">QQ微博</option>
					<option value="mobile">手机</option>
					<option value="1626.com">1626主站</option>
					<option value="1626mgz">1626杂志</option>
					<option value="myedm">自建直邮</option>
				</select>
				(如搜索引擎、网站简称等)
			</li>
			<li>广告系列媒介(utm_medium)：*<input id="medium" name="medium" type="text">
				<select name="" onchange="preset_medium(this)">
					<option value="">预设</option>
					<option value="ppc">搜索推广</option>
					<option value="cpc">网盟推广</option>
					<option value="cpc">按点击付费</option>
					<option value="cps">按销售付费</option>
					<option value="cpa">按用户行为付费</option>
					<option value="cpm">千次显示费用</option>
					<option value="edm">直邮</option>
					<option value="sms">短信</option>
					<option value="adv">平面广告</option>
					<option value="banner">网站banner</option>
					<option value="edm">直邮</option>
					<option value="infopub">信息发布</option>
					<option value="soft">软文</option>
				</select>
				(如PPC、CPC、CPS、CPA、EDM)</li>
			<li>广告系列字词(utm_term)：<input id="term" name="term" type="text"> 
			（用于付费搜索，用来注明此广告的关键字）</li>
			<li>广告系列内容(utm_content)：<input id="content" name="content" type="text"> 
			（用于 A/B 测试和 以网页内容定位的 广告）</li>
			<li>广告系列名称(utm_campaign)：*<input id="campaign" name="campaign" type="text">
	         (如果是付费流量，来标识特定的产品促销活动或战略性广告系列)</li>
		</ul>
	  <div><input type="button" value="确定" onclick="gen()"></div>
	</div>
	<div>生成的链接：<div id="gen_link"></div></div>
</div>
<br>
<h3>如果你复制的网址里面含有中文，请先将中文部分编码：</h3>
<div><input type="text" id="cnkw" value=""> <input type="button" value=" 中文编码 " onclick="cn_code()"> <span id="cnkw-result"></span></div>

<script type="text/javascript">
function cn_code()
{
	if (getID('cnkw').value == '')
	{
		alert('请输入需要编码的中文！');
		getID('cnkw').focus();
		return false;
	}

	document.getElementById('cnkw-result').innerHTML = encodeURIComponent(getID('cnkw').value);
}

function gen()
{
	if (getID('source').value == '')
	{
		alert('请输入来源！');
		getID('source').focus();
		return false;
	}

	if (getID('medium').value == '')
	{
		alert('请输入媒介！');
		getID('medium').focus();
		return false;
	}

	if (getID('campaign').value == '')
	{
		alert('请输入来源！');
		getID('campaign').focus();
		return false;
	}
	var url = '';
	if (getID('url').value != '')
		url += getID('url').value;

	var s = '?';
	if (url.indexOf('?') >=0)
		s = '&';

	url += s+"utm_source="+encodeURI(getID('source').value) + "&utm_medium=" + encodeURI(getID('medium').value);

	if (getID('term').value != '')
		url += "&utm_term=" + encodeURI(getID('term').value);
	if (getID('content').value != '')
		url += "&utm_term=" + encodeURI(getID('content').value);

	url += "&utm_campaign=" + encodeURI(getID('campaign').value);

	getID('gen_link').innerHTML = url;
}
function preset_source(obj)
{
	var val = obj.options[obj.selectedIndex].value;
	getID('source').value = val;
}
function preset_medium(obj)
{
	var val = obj.options[obj.selectedIndex].value;
	getID('medium').value = val;
}

function getID(id)
{
	if (id == '')
		return null

	if (typeof document.getElementById(id) != undefined)
		return document.getElementById(id)
	else
		return null
}
</script>
</body></html>